<div class="login-container">
  <h2 class="text-center mb-4">Iniciar sesión</h2>
  <form [formGroup]="form" (ngSubmit)="submit()" novalidate>
    <div class="mb-3">
      <label class="form-label">Email</label>
      <input type="email" class="form-control" formControlName="email" placeholder="usuario@dominio.com" />
      <div class="invalid-feedback d-block" *ngIf="form.controls.email.touched && form.controls.email.errors?.['required']">El email es obligatorio</div>
      <div class="invalid-feedback d-block" *ngIf="form.controls.email.touched && form.controls.email.errors?.['email']">Formato inválido</div>
    </div>
    <div class="mb-3">
      <label class="form-label">Contraseña</label>
      <input type="password" class="form-control" formControlName="pwd" />
      <div class="invalid-feedback d-block" *ngIf="form.controls.pwd.touched && form.controls.pwd.errors?.['required']">La contraseña es obligatoria</div>
      <div class="invalid-feedback d-block" *ngIf="form.controls.pwd.touched && form.controls.pwd.errors?.['minlength']">Mínimo 6 caracteres</div>
    </div>
    <div class="d-flex justify-content-between align-items-center mb-3">
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="rememberCheck" formControlName="remember" />
        <label class="form-check-label" for="rememberCheck">Recordarme</label>
      </div>
      <a routerLink="/recuperar-password">¿Olvidaste tu contraseña?</a>
    </div>
    <div class="d-grid gap-2">
      <button class="btn btn-primary" type="submit" [disabled]="loading()">
        <span *ngIf="!loading()">Entrar</span>
        <span *ngIf="loading()" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
      </button>
    </div>
  </form>
  <div class="alert alert-danger mt-3" *ngIf="error()" aria-live="assertive">{{ error() }}</div>
  <div class="alert alert-success mt-3" *ngIf="success()" aria-live="polite">Acceso concedido. Redirigiendo...</div>
</div>
